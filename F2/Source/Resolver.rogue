module F2

class Resolver : FroleyVisitor
  PROPERTIES

  METHODS
    method visit( cmd:Access )->Cmd [override]
      if (cur_element.routines.contains(cmd.name))
        trace "TODO"
        throw cmd.t.error( "TODO" )
      else
        return ReadVar(cur_element.define_var(cmd.t,cmd.name)).dispatch(this)
      endIf

    method visit( cmd:Assign )->Cmd [override]
      return cmd.target.resolve_assignment( cmd, this )
endClass

